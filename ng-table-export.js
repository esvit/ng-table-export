/*! ngTableExport v0.1.0 by Vitalii Savchuk(esvit666@gmail.com) - https://github.com/esvit/ng-table-export - New BSD License */

angular.module("ngTableExport",[]).config(["$compileProvider",function(a){a.aHrefSanitizationWhitelist(/^\s*(https?|ftp|mailto|data):/)}]).directive("exportCsv",["$parse","$timeout",function(a,b){var c="	",d="data:text/csv;charset=UTF-8,";return{restrict:"A",scope:!1,link:function(e,f,g){function h(){j="";var a=f.find("tr");angular.forEach(a,function(a,b){var d=angular.element(a),e=d.find("th"),f="";d.hasClass("ng-table-filters")||(0===e.length&&(e=d.find("td")),1!==b&&(angular.forEach(e,function(a){f+=k.stringify(angular.element(a).text())+Array.apply(null,Array(a.colSpan)).map(function(){return c}).join("")}),f=f.slice(0,f.length-1)),j+=f+"\n")}),j="sep="+c+"\n"+j}function i(a,b){var c=angular.element('<a style="display:none;" href="'+a+'" download="'+b+'"></a>');c[0].click()}var j="",k={stringify:function(a){return'"'+a.replace(/^\s\s*/,"").replace(/\s*\s$/,"").replace(/"/g,'""')+'"'},generate:function(a,c){a.stopPropagation(),a.preventDefault();var f=e.$parent.tableParams,g=f.settings(),k=f.count(),l=g.total;if(l>k){var m=g.$scope.$on("ngTableAfterReloadData",function(){m(),b(function(){h(),f.count(k),f.reload(),i(d+encodeURIComponent(j),c)},1e3,!1)});f.count(1/0),f.reload()}else h(),i(d+encodeURIComponent(j),c);return!1}};a(g.exportCsv).assign(e.$parent,k)}}}]);
//# sourceMappingURL=ng-table-export.map